<div class="container">

	<form name="event" ng-submit="module.eventCreate()" ng-disabled="module.data.event.busy">
		<fieldset>

			<legend>Create a new event</legend>

			<div class="form-group">
				<input name="name" type="text" class="form-control" ng-model="module.data.event.name" placeholder="Name" autofocus required>
				<aside ng-show="event.name.$invalid && event.$dirty">needed</aside>
			</div>

			<div ng-show="module.showMoreEventOptions">

				<div class="form-group">
					<input type="text" class="form-control" ng-model="module.data.event.date" placeholder="Date">
				</div>

				<div class="form-group">
					<input type="text" class="form-control" ng-model="module.data.event.time" placeholder="Time">
				</div>

				<div class="form-group">
					<input type="text" class="form-control" ng-model="module.data.event.where" placeholder="Location">
				</div>

			</div>

			<button class="btn btn-primary btn-lg btn-block" ng-disabled="module.data.event.busy">create</button>

		</fieldset>
	</form>

	<div class="container" ng-show="module.data.me.events.length">
		<h3>Your recent events</h3>
		<ul>
			<li ng-repeat="event in module.data.me.events">
				<a ng-href="/event/{{event.id}}">
					{{event.name}}
					<span class="badge-group">
						<span class="badge">{{_.where(event.guests,{attending:true}).length}}</span>
						<span class="badge">{{event.guests.length}}</span>
					</span>
				</a>
			</li>
		</ul>
	</div>

	<footer ng-include="'/partials/includes/eventcount.html'"></footer>

</div>